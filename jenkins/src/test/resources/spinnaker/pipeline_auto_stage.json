{
	"appConfig": {},
	"keepWaitingPipelines": false,
	"limitConcurrent": true,
	"stages": [
		{
			"name": "Create test service [0]",
			"refId": "1",
			"requisiteStageRefIds": [],
			"type": "wait",
			"waitTime": 1
		},
		{
			"name": "Create test service [1]",
			"refId": "2",
			"requisiteStageRefIds": [],
			"type": "wait",
			"waitTime": 1
		},
		{
			"clusters": [
				{
					"account": "calabasasaccount",
					"application": "githubwebhook",
					"artifact": {
						"account": "jenkins",
						"pattern": "^github-webhook.*VERSION.jar$",
						"type": "trigger"
					},
					"cloudProvider": "cloudfoundry",
					"detail": "",
					"manifest": {
						"diskQuota": "1024M",
						"env": [],
						"instances": 1,
						"memory": "1024M",
						"services": [],
						"type": "direct"
					},
					"provider": "cloudfoundry",
					"region": "scpipelines > sc-pipelines-test-github-webhook",
					"stack": "",
					"strategy": "highlander"
				}
			],
			"name": "Deploy to test",
			"refId": "3",
			"requisiteStageRefIds": [
				"1",
				"2"
			],
			"type": "deploy"
		},
		{
			"continuePipeline": false,
			"failPipeline": true,
			"job": "spinnaker-github-webhook-pipeline-test-env-test",
			"master": "Spinnaker-Jenkins",
			"name": "Run tests on test",
			"parameters": {},
			"refId": "4",
			"requisiteStageRefIds": [
				"3"
			],
			"type": "jenkins"
		},
		{
			"clusters": [
				{
					"account": "calabasasaccount",
					"application": "githubwebhook",
					"artifact": {
						"account": "jenkins",
						"pattern": "^github-webhook.*VERSION.jar$",
						"type": "trigger"
					},
					"cloudProvider": "cloudfoundry",
					"detail": "",
					"manifest": {
						"diskQuota": "1024M",
						"env": [],
						"instances": 1,
						"memory": "1024M",
						"services": [],
						"type": "direct"
					},
					"provider": "cloudfoundry",
					"region": "scpipelines > sc-pipelines-test-github-webhook",
					"stack": "",
					"strategy": "highlander"
				}
			],
			"name": "Deploy to test latest prod version",
			"refId": "5",
			"requisiteStageRefIds": [
				"4"
			],
			"type": "deploy"
		},
		{
			"continuePipeline": false,
			"failPipeline": true,
			"job": "spinnaker-github-webhook-pipeline-test-env-rollback-test",
			"master": "Spinnaker-Jenkins",
			"name": "Run rollback tests on test",
			"parameters": {},
			"refId": "6",
			"requisiteStageRefIds": [
				"5"
			],
			"type": "jenkins",
			"waitForCompletion": true
		},
		{
			"name": "Create stage service [0]",
			"refId": "7",
			"requisiteStageRefIds": [
				"6"
			],
			"type": "wait",
			"waitTime": 1
		},
		{
			"name": "Create stage service [1]",
			"refId": "8",
			"requisiteStageRefIds": [
				"6"
			],
			"type": "wait",
			"waitTime": 1
		},
		{
			"clusters": [
				{
					"account": "calabasasaccount",
					"application": "githubwebhook",
					"artifact": {
						"account": "jenkins",
						"pattern": "^github-webhook.*VERSION.jar$",
						"type": "trigger"
					},
					"cloudProvider": "cloudfoundry",
					"detail": "",
					"manifest": {
						"diskQuota": "1024M",
						"env": [],
						"instances": 1,
						"memory": "1024M",
						"services": [],
						"type": "direct"
					},
					"provider": "cloudfoundry",
					"region": "scpipelines > sc-pipelines-stage",
					"stack": "",
					"strategy": "highlander"
				}
			],
			"name": "Deploy to stage",
			"refId": "9",
			"requisiteStageRefIds": [
				"7",
				"8"
			],
			"type": "deploy"
		},
		{
			"continuePipeline": false,
			"failPipeline": true,
			"job": "spinnaker-github-webhook-pipeline-stage-env-e2e",
			"master": "Spinnaker-Jenkins",
			"name": "End to end tests on stage",
			"parameters": {},
			"refId": "10",
			"requisiteStageRefIds": [
				"9"
			],
			"type": "jenkins"
		},
		{
			"failPipeline": true,
			"judgmentInputs": [],
			"name": "Approve production",
			"notifications": [],
			"refId": "11",
			"requisiteStageRefIds": [
				"10"
			],
			"type": "manualJudgment"
		},
		{
			"clusters": [
				{
					"account": "calabasasaccount",
					"application": "githubwebhook",
					"artifact": {
						"account": "jenkins",
						"pattern": "^github-webhook.*VERSION.jar$",
						"type": "trigger"
					},
					"cloudProvider": "cloudfoundry",
					"detail": "",
					"manifest": {
						"diskQuota": "1024M",
						"env": [],
						"instances": 1,
						"memory": "1024M",
						"services": [],
						"type": "direct"
					},
					"provider": "cloudfoundry",
					"region": "scpipelines > sc-pipelines-prod",
					"stack": "",
					"strategy": "highlander"
				}
			],
			"name": "Deploy to prod",
			"refId": "12",
			"requisiteStageRefIds": [
				"11"
			],
			"type": "deploy"
		},
		{
			"clusters": [
				{
					"account": "calabasasaccount",
					"application": "githubwebhook",
					"artifact": {
						"account": "jenkins",
						"pattern": "^github-webhook.*VERSION.jar$",
						"type": "trigger"
					},
					"cloudProvider": "cloudfoundry",
					"detail": "",
					"manifest": {
						"diskQuota": "1024M",
						"env": [],
						"instances": 1,
						"memory": "1024M",
						"services": [],
						"type": "direct"
					},
					"provider": "cloudfoundry",
					"region": "scpipelines > sc-pipelines-prod",
					"stack": "",
					"strategy": "highlander"
				}
			],
			"name": "Rollback",
			"refId": "13",
			"requisiteStageRefIds": [
				"11"
			],
			"type": "deploy"
		}
	],
	"triggers": [
		{
			"enabled": true,
			"job": "spinnaker-github-webhook-pipeline-build",
			"master": "Spinnaker-Jenkins",
			"type": "jenkins"
		}
	]
}
